<?php

declare(strict_types = 1);

/**
 * @file
 */

use Drupal\Core\Entity\EntityTypeInterface;


/**
 * @file
 * Contains hooks and callbacks for genre_validator.module.
 *
 */
/**
 * @param array $fields
 * @param EntityTypeInterface $entity_type
 * @param $bundle
 */
function genre_validator_entity_bundle_field_info_alter(
  array &$fields,
  EntityTypeInterface $entity_type,
  $bundle
) {

  if (
    $entity_type->id() === 'node') {
    if (
      $bundle === 'product') {
      if (isset($fields['field_genres'])) {
        $fields['field_genres']->addConstraint('genre_rules', []);
      }
    }
  }
}
